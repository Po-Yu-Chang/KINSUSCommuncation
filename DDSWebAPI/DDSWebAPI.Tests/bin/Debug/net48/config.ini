# ====================================================================
# DDSWebAPI 系統設定檔
# 此檔案包含 DDSWebAPI 系統的所有重要設定參數
# 修改後請重新啟動服務以使設定生效
# ====================================================================

[Server]
# ====================================================================
# 伺服器基本設定區段
# 設定 HTTP 伺服器和遠端 API 的連線參數
# ====================================================================

# HTTP 伺服器監聽位址和埠號
# 格式：http://主機名稱或IP:埠號/
# 範例：http://localhost:8085/ 或 http://192.168.1.100:8085/
ServerUrl=http://localhost:8085/

# 遠端 API 伺服器位址
# 用於發送資料到 MES/IoT 系統的目標 API 位址
# 格式：http://主機名稱或IP:埠號/
RemoteApiUrl=http://localhost:8086/

# 設備代碼
# 用於識別此配針機設備的唯一代碼
# 建議格式：KINSUS_設備編號_流水號
DeviceCode=KINSUS_CONSOLE_001

# 操作人員名稱
# 目前操作此設備的人員姓名或代碼
# 將記錄在所有 API 請求中
OperatorName=CONSOLE_USER

[Security]
# ====================================================================
# 安全性設定區段
# 設定 API 金鑰驗證、數位簽章和 IP 白名單等安全機制
# ====================================================================

# API 金鑰
# 用於 Bearer Token 驗證的密鑰
# 格式：Authorization: Bearer {ApiKey}
# 建議定期更換以確保安全性
ApiKey=KINSUS_API_KEY_2024

# 數位簽章密鑰
# 用於 HMAC-SHA256 簽章驗證的密鑰
# 建議使用 32 字元以上的強密鑰
# 此密鑰需與 MES/IoT 系統保持一致
SignatureSecret=KINSUS_SIGNATURE_SECRET_KEY_2024

# 啟用 API 金鑰驗證
# true：啟用，所有請求必須包含有效的 API 金鑰
# false：停用，允許無認證的請求（僅供開發測試使用）
EnableApiKeyValidation=true

# 啟用數位簽章驗證
# true：啟用，所有請求必須包含有效的數位簽章
# false：停用，不檢查請求簽章（僅供開發測試使用）
EnableSignatureValidation=true

# 啟用 IP 位址白名單
# true：啟用，僅允許白名單內的 IP 位址存取
# false：停用，允許任何 IP 位址存取
EnableIpWhitelist=true

# IP 位址白名單
# 允許存取 API 的 IP 位址清單，用逗號分隔
# 支援單一 IP（如：192.168.1.100）和網段（如：192.168.1.0/24）
# 127.0.0.1：本機回環位址
# 192.168.1.0/24：區域網路網段
# 10.0.0.0/8：私有網路網段
AllowedIpAddresses=127.0.0.1,192.168.1.0/24,10.0.0.0/8

[Performance]
# ====================================================================
# 效能與限制設定區段
# 設定系統效能限制參數以防止過載和保護系統穩定性
# ====================================================================

# 每分鐘最大請求數
# 設定每分鐘允許的最大 API 請求數量
# 超過此限制的請求將被拒絕
# 建議值：100-500，依據系統負載能力調整
MaxRequestsPerMinute=100

# 最大併發連線數
# 設定同時允許的最大 HTTP 連線數
# 超過此限制的新連線將被拒絕
# 建議值：10-100，依據伺服器記憶體容量調整
MaxConcurrentConnections=50

# 最大請求資料大小（位元組）
# 設定單一 HTTP 請求內容的最大大小
# 10485760 = 10MB，適用於一般配針資料
# 可依據實際資料大小需求調整
MaxRequestSizeBytes=10485760

# 請求處理逾時時間（秒）
# 設定 API 請求處理的最大等待時間
# 超過此時間的請求將被中斷
# 建議值：30-120 秒
RequestTimeoutSeconds=30

# 最大回應資料大小（位元組）
# 設定單一 HTTP 回應內容的最大大小
# 52428800 = 50MB，適用於大量查詢結果
# 可依據查詢資料量需求調整
MaxResponseSizeBytes=52428800

[Logging]
# ====================================================================
# 日誌記錄設定區段
# 設定系統日誌的記錄等級、檔案輸出和檔案管理參數
# ====================================================================

# 日誌記錄等級
# DEBUG：詳細除錯資訊（開發環境使用）
# INFO：一般資訊訊息（預設等級）
# WARN：警告訊息
# ERROR：錯誤訊息
# FATAL：嚴重錯誤訊息
LogLevel=INFO

# 啟用檔案日誌記錄
# true：將日誌寫入檔案
# false：僅輸出到控制台
EnableFileLogging=true

# 日誌檔案路徑
# 設定日誌檔案的儲存路徑和檔名
# 支援相對路徑和絕對路徑
# 系統會自動建立目錄（如果不存在）
LogFilePath=logs/dds_api.log

# 單一日誌檔案最大大小（MB）
# 當日誌檔案達到此大小時會自動輪替
# 建議值：10-100MB
MaxLogFileSizeMB=10

# 保留的日誌檔案數量
# 設定輪替後保留的歷史日誌檔案數量
# 舊檔案會自動刪除以節省磁碟空間
# 建議值：5-20 個檔案
MaxLogFiles=5
